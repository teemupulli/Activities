# Lab: Building an Express Server with custom 404 Middleware

In this lab, you will learn how to create an Express server with a custom 404 middleware that handles requests for non-existent routes. You will build an Express server with two defined routes and a middleware function to handle requests that don't match any of those routes.

## Prerequisites

Before starting this lab, make sure you have Node.js and npm (Node Package Manager) installed on your system. You'll also need a code editor, such as Visual Studio Code, for writing and running the server.

## Lab Objectives

By the end of this lab, you will be able to:

- Create an Express server with custom routes.
- Implement a custom 404 middleware to handle requests for non-existent routes.
- Start the Express server and observe how the 404 middleware responds to unknown routes.

## Lab Instructions

Follow these step-by-step instructions to build the Express server with a 404 middleware:

### Step 1: Set Up Your Project

1. Create a new directory for your project and navigate to it in your terminal.

2. Initialize a new Node.js project by running the following command:

```bash
npm init -y
```

This command will create a `package.json` file for your project.

3. Install the Express.js framework by running the following command:

```bash
npm install express
```

4. Create a JavaScript file (e.g., `app.js`) in your project directory. This file will contain the code for your Express server.

### Step 2: Write the Express Server Code

Open the `app.js` file in your code editor and add the following code to create an Express server with two defined routes and a custom 404 middleware:

```javascript
const express = require('express');
const app = express();
const PORT = 3001;

// Define the first route
app.get('/endpoint1', (req, res) => {
  res.send('This is the first endpoint.');
});

// Define the second route
app.get('/endpoint2', (req, res) => {
  res.send('This is the second endpoint.');
});

// Custom 404 Middleware
const notFoundCb = (req, res, next) => {
  res.status(404).send("Sorry, the requested page couldn't be found.");
};

app.use(notFoundCb);

// Start the server
app.listen(PORT, () => {
  console.log(`Server is running on port ${PORT}`);
});
```

This code does the following:

- Requires the `express` module to create the Express application.

- Defines two routes (`/endpoint1` and `/endpoint2`) using `app.get()`. These routes respond with specific messages when accessed.

- Implements a custom 404 middleware function (`notFoundCb`) that sets the response status to 404 and sends a "Not Found" message. This middleware is used globally for all routes using `app.use(notFoundCb)`.

- Starts the Express server on port 3001 (or the specified port) and logs a message indicating that the server is running.

### Step 3: Run the Express Server

1. In your terminal, navigate to the project directory containing the `app.js` file.

2. Start the Express server by running the following command:

```bash
node app.js
```

You should see the server's startup message indicating that it's running on port 3001.

3. Open your web browser and access the defined routes by navigating to `http://localhost:3001/endpoint1` and `http://localhost:3001/endpoint2`. You should see the respective messages for those routes.

4. Access a non-existent route, such as `http://localhost:3001/nonexistent`, in your web browser. You should see the "Not Found" message generated by the custom 404 middleware.


